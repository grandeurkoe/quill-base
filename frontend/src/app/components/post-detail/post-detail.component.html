<div class="container mt-5" *ngIf="!loading && post">
  <a routerLink="/" class="text-decoration-none text-muted small d-inline-block mb-3">
    ← Back to Home
  </a>

  <div class="card post-detail-card p-4">
    <div class="d-flex justify-content-between align-items-start mb-2">
      <h2 class="fw-bold mb-0">{{ post.title }}</h2>
    </div>

    <p class="text-muted mb-3 small">
      ✍️ {{ post.author || 'Anonymous' }} • {{ post.created_at | date: 'medium' }}
    </p>

    <hr class="my-3" />

    <p class="post-content">{{ post.content }}</p>

<div class="mt-4 d-flex gap-2" *ngIf="canEditOrDelete()">
  <a [routerLink]="['/edit', post?.id]" class="btn btn-outline-primary btn-sm">
    📝 Edit
  </a>
  <button class="btn btn-outline-danger btn-sm" (click)="onDelete()">
    🗑️ Delete
  </button>
</div>


  <div class="mt-5">
    <ng-container *ngIf="post?.id as postId">
      <app-comment-section [postId]="postId"></app-comment-section>
    </ng-container>
  </div>
</div>

<div class="container mt-4" *ngIf="loading">
  <div class="alert alert-info">Loading post...</div>
</div>

<div class="container mt-4" *ngIf="error">
  <div class="alert alert-danger">{{ error }}</div>
</div>
